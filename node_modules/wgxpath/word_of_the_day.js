var wgxpath = require('wgxpath');
var jsdom = require('jsdom');

var url = 'https://www.amazon.com/gp/product/B00OQVZDJM/ref=s9_simh_gw_g349_i1_r?ie=UTF8&fpl=fresh&pf_rd_m=ATVPDKIKX0DER&pf_rd_s=&pf_rd_r=K8V5W1WA6FXVP36ZQ3MA&pf_rd_t=36701&pf_rd_p=6aad23bd-3035-4a40-b691-0eefb1a18396&pf_rd_i=desktop';
var expressionString = '/html/body/div[4]/div[4]/div[9]/div[27]/div/form/div/div/span';

jsdom.env({
  url: url,
  done: function(errors, window) {
    wgxpath.install(window);
    var expression = window.document.createExpression(expressionString);
    var result = expression.evaluate(window.document,
        wgxpath.XPathResultType.STRING_TYPE);
    if (result.stringValue.length <= 0)
      console.log('Failed to get the word of the day.');
    else
      console.log('The Word of the Day is "' + result.stringValue + '."');
  }
});
